#!/usr/bin/ruby
# =============================================================================
# Rails Console Helpers
# =============================================================================
# Helper functions for Rails console sessions.
# Symlinked to: ~/.railsrc
#
# Functions:
#   show_log()            - Enable ActiveRecord logging to STDOUT
#   hide_log()            - Disable ActiveRecord logging
#   show_session(session) - Decode a Rails session cookie
# =============================================================================

def change_log(stream)
  ActiveRecord::Base.logger = Logger.new(stream)
  ActiveRecord::Base.clear_active_connections!
end

def show_log
  change_log(STDOUT)
end

def hide_log
  change_log(nil)
end

def show_session(session)
  Marshal.load(Base64.decode64(session))
end
